<div class="container">
  <div class="row">
    
      <div class="col-md-3">
        <div id="sidebar_menu" class="tree" role="complementary"></div>
      </div>
      <div id="content" class="col-md-9">
    
        <h1 style="margin-top: 0px;">Operations outputs</h1>
        <p>Operations can also expose values at the end of their execution, called outputs.<br />
According to TOSCA norm, these so called operations outputs should be exposed as environment variables by the implementation script of the related operation.</p>

<h2 id="export-the-output">Export the output</h2>

<p>Export the outputs as environment variable using the good way depending on the file type.</p>

<ul>
  <li>For <strong>shell</strong>:</li>
</ul>

<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nb">export </span><span class="nv">OUTPUT_NAME</span><span class="o">=</span><span class="s2">&quot;value&quot;</span></code></pre></div>

<ul>
  <li>For <strong>bat/cmd</strong>:</li>
</ul>

<div class="highlight"><pre><code class="language-bat" data-lang="bat"><span class="k">set</span> <span class="nv">OUTPUT_NAME</span><span class="o">=</span><span class="s2">&quot;value&quot;</span></code></pre></div>

<ul>
  <li>For <strong>groovy</strong>: Here we will export it as a property, as there is no way to modify environment in this case</li>
</ul>

<div class="highlight"><pre><code class="language-groovy" data-lang="groovy"><span class="n">OUTPUT_NAME</span> <span class="o">=</span> <span class="s2">&quot;value&quot;</span>
<span class="c1">// or</span>
<span class="n">setProperty</span><span class="o">(</span><span class="s2">&quot;OUTPUT_NAME&quot;</span><span class="o">,</span> <span class="s2">&quot;value&quot;</span><span class="o">)</span>

<span class="c1">//</span>
<span class="c1">//but definitely NOT</span>
<span class="kt">def</span> <span class="n">OUTPUT_NAME</span> <span class="o">=</span> <span class="s2">&quot;value&quot;</span> <span class="c1">//this will create a local variable instead</span></code></pre></div>

<div class="note warning">
<p>There is a known limitation: some characters are not supported in the output value: <code>"," , "=", [space]</code>.</p>
</div>

<h2 id="use-the-output">Use the output</h2>

<p>see <a href="#/documentation/1.0.0/devops_guide/tosca_grammar/get_operation_output_definition.html" title="get_operation_output usage">get_operation_output</a> for more details.</p>

<div class="note warning">
<p>Be aware that use of the <strong>get_operation_output</strong> function on relationships operations <strong>add[remove]_source[target]</strong> input parameters might result with null or wrong computed inputs values.<br />
The <strong>best practice</strong> would be to define an attribute on the node that will hold the useful output, and then using it as an input for the relationships operation with <strong>get_attribute</strong> function.<br />
&lt;/br&gt;
On the other side, the usage on the node template interfaces operations is fully supported.</p>
</div>


      </div>
    </div>
  </div>
</div><!-- /container -->
<script>
var hash = location.hash.replace( /^#/, '' );
if(hash && hash!== null && hash.match(/html$/)) {
} else {
  var newLocation = location.protocol+"//"+location.host+"#"+location.pathname;
  location.replace(newLocation);
}
</script>
<script type="text/javascript" src="/js/post-layout.js"></script>
<script>
$(document).ready(function () {
  makeSideBar('DOCUMENTATION', 'cloudify_2_outputs');
});
</script>

<script>
$("div[data-gist]").gist();
</script>
